# PostgreSQLのデータベースのDumpファイルの作成

### 設定ファイルの内容からDumpファイルを作成します。初期設定だとバックアップフォルダは日付単位で作成されていきます。同日に実行した場合は日付フォルダ内に実行した時間(「YYYYmmddHHMMss」形式)フォルダが作成されていきその中にDumpファイル（sqlファイル）と実行ログ、トレースログファイルが出来ていきます。

#### backup.confについて
- backupParentFolder
    - バックアップファイル保存親ディレクトリ
- backupChildFolder
    - バックアップファイル保存子ディレクトリ
- dumpFile
    - Dumpのファイル名
    - シェルスクリプトからみた相対パスで指定すること
- runLogFile
    - 実行ログファイル名
    - シェルスクリプトからみた相対パスで指定すること
- traceLogFile
    - トレースログファイル名
    - シェルスクリプトからみた相対パスで指定すること
- databaseServer
    - データベースサーバー
    - localhostやIPアドレスなどを指定して下さい
    - pg_dumpの「-h」オプションで指定する箇所です
- databaseName
    - データベース名
    - pg_dumpの「-d」オプションで指定する箇所です
- databaseLoginUser
    - データーベースにログインするユーザー名
    - pg_dumpの「-U」オプションで指定する箇所です

#### 2018年9月20日(木)に４回実行した時の例
※実行すると下記のようなフォルダ構成になります
```
backup.conf
PostgreSQL_Backup.sh
20180920
 ├ 20180920164119
 |  ├ 20180920164119.sql
 |  ├ run_log_20180920164119.log
 |  └ trace_log_20180920164119.log
 ├ 20180920164124
 |  ├ 20180920164124.sql
 |  ├ run_log_20180920164124.log
 |  └ trace_log_20180920164124.log
 ├ 20180920164128
 |  ├ 20180920164128.sql
 |  ├ run_log_20180920164128.log
 |  └ trace_log_20180920164128.log
 └ 20180920165201
     ├ 20180920165201.sql
     ├ run_log_20180920165201.log
     └ trace_log_20180920165201.log
```

#### その他
- バージョン情報
    - PostgreSQL：9.6.9
